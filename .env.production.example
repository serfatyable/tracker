# ============================================================================
# Production Environment Variables Template
# ============================================================================
#
# Copy these variables to your Vercel Environment Variables settings:
# https://vercel.com/dashboard → Your Project → Settings → Environment Variables
#
# ⚠️  SECURITY WARNING:
# - NEVER commit this file with real values to git
# - Store production secrets in Vercel environment variables only
# - Use secret scanning tools to prevent accidental exposure
#
# ============================================================================

# ============================================================================
# Firebase Client Configuration (Public - Safe to expose in browser)
# ============================================================================
# Get from: Firebase Console → Project Settings → General → Your apps

NEXT_PUBLIC_FIREBASE_API_KEY=your-production-api-key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-production-project-id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
NEXT_PUBLIC_FIREBASE_APP_ID=1:123456789:web:abcdef
NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID=G-XXXXXXXXXX
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=123456789

# ============================================================================
# Firebase Admin SDK (Private - Server-side only - NEVER EXPOSE TO BROWSER)
# ============================================================================
# Get from: Firebase Console → Project Settings → Service Accounts → Generate New Private Key
#
# ⚠️  CRITICAL SECURITY:
# - These credentials have FULL DATABASE ACCESS
# - Store in Vercel environment variables as secrets
# - Rotate keys every 90 days (see README_SECURITY.md)

FIREBASE_PROJECT_ID=your-production-project-id
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour-Private-Key-Here\n-----END PRIVATE KEY-----\n"

# ============================================================================
# Application Configuration
# ============================================================================

# Application environment (production, staging)
NEXT_PUBLIC_APP_ENV=production

# Application base URL (used for calendar subscriptions, redirects, etc.)
NEXT_PUBLIC_APP_URL=https://tracker.example.com

# ============================================================================
# Rate Limiting (REQUIRED for production)
# ============================================================================
# Sign up at: https://upstash.com
# Create Redis database in europe-west1 region (matches Firestore)
#
# ⚠️  SECURITY: Without rate limiting, your API endpoints are vulnerable to:
# - Brute force attacks
# - DDoS attacks
# - Credential stuffing
# - Import abuse

UPSTASH_REDIS_REST_URL=https://your-db.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-rest-token

# ============================================================================
# Error Tracking (HIGHLY RECOMMENDED for production)
# ============================================================================
# Sign up at: https://sentry.io
#
# Provides:
# - Real-time error notifications
# - Stack traces with source maps
# - User context and breadcrumbs
# - Performance monitoring

NEXT_PUBLIC_SENTRY_DSN=https://your-key@o123456.ingest.sentry.io/7654321

# Optional: Auth token for uploading source maps (improves error debugging)
# Get from: Sentry → Settings → Auth Tokens → Create New Token
# Scopes needed: project:releases, project:write
SENTRY_AUTH_TOKEN=your-sentry-auth-token

# ============================================================================
# Optional Configuration
# ============================================================================

# Node.js memory limit (adjust based on your Vercel plan)
# NODE_OPTIONS=--max-old-space-size=4096

# ============================================================================
# Vercel Deployment Settings
# ============================================================================
#
# In Vercel dashboard, configure:
# 1. Environment: Production
# 2. Git Branch: main
# 3. Framework: Next.js
# 4. Build Command: pnpm build
# 5. Output Directory: .next
# 6. Install Command: pnpm install
# 7. Node.js Version: 20.x
#
# Deploy triggers:
# - Automatic deployments on push to main
# - Preview deployments on pull requests
#
# ============================================================================

# ============================================================================
# Post-Deployment Checklist
# ============================================================================
#
# After setting environment variables in Vercel:
#
# [ ] Verify Firebase credentials work (test authentication)
# [ ] Verify Firestore security rules are deployed
# [ ] Verify rate limiting is active (check Upstash dashboard)
# [ ] Verify Sentry is receiving events (trigger test error)
# [ ] Check build logs for warnings
# [ ] Test critical user flows (sign-in, task submission, etc.)
# [ ] Monitor error rate in Sentry
# [ ] Review rate limiting metrics in Upstash
# [ ] Set up deployment notifications (Slack, email)
# [ ] Configure custom domain if needed
# [ ] Enable deployment protection (require approval for production)
#
# ============================================================================
